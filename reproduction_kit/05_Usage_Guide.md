# 05. 使用ガイド (Usage Guide)

設定が完了したら、実際に動画を自動生成してみましょう。

## 基本的な実行方法

ターミナル（コマンドプロンプト）を開き、プロジェクトのルートディレクトリで以下のコマンドを実行します。

```bash
python src/main.py
```

これだけで、デフォルトの設定に基づいて動画生成プロセスが開始されます。
初回実行時は、テーマの選定から始まり、最終的な動画出力まで全自動で行われます。

## 開発モードでの実行 (推奨)

開発中やテスト動作確認の際は、`--dev-mode` フラグを付けて実行することをお勧めします。

```bash
python src/main.py --dev-mode
```

**開発モードの特徴:**
- 詳細なログが表示されます。
- APIのコストを抑えるための制限が適用される場合があります。
- 一部処理がキャッシュされ、再実行が高速になります。

## 生成プロセスの流れ

コマンドを実行すると、以下の順序で処理が進みます。コンソールに現在のステップが表示されます。

1. **Theme Selection**: 動画のテーマを決定します（例：「宇宙の不思議について」）。
2. **Script Generation**: 霊夢と魔理沙の台本を生成します。
3. **Title Generation**: 動画のタイトルを決定します。
4. **TTS Processing**: 台本を音声データに変換します。
5. **Character Animation**: 音声に合わせて立ち絵動画を作成します。
6. **Background Generation**: 背景画像を生成し、動画化します。
7. **Subtitle Generation**: 字幕データを作成します。
8. **Video Composition**: 全ての素材を合成します。
9. **Audio Enhancement**: BGMや効果音を追加します。
10. **Final Encoding**: 完成した動画ファイルを出力します。

## 成果物の確認

生成された動画や中間ファイルは `outputs` フォルダ（または `projects` フォルダ内の各プロジェクトフォルダ）に保存されます。

- **完成動画**: `outputs/final_video.mp4` (設定により異なります)
- **台本**: `projects/[プロジェクトID]/script.json`
- **音声**: `projects/[プロジェクトID]/audio/`

## 実行の中断と再開

処理はステップごとに保存（チェックポイント作成）されます。
エラーなどで途中で止まった場合でも、再度同じコマンドを実行すると、完了したステップをスキップして続きから再開しようとします。
完全に最初からやり直したい場合は、新しいプロジェクトとして実行するか、生成されたプロジェクトフォルダを削除してください。
